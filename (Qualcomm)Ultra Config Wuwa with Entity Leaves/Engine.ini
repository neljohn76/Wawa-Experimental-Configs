; ===================================================================
; Wuthering Waves 2.7 - Vulkan Forced Full Engine.ini (by Nel)
; ===================================================================

[Core.System]
Paths=../../../Engine/Content
Paths=%GAMEDIR%Content
Paths=../../../WuWa/Plugins/Content
Paths=../../../WuWa/Content

; Engine file system tuning
PaksToKeep=*.pak
SeekFreeLoading=True
UseFastPath=True

; ===================================================================
; Vulkan API setup (Force Vulkan)
; ===================================================================

[/Script/Engine.RendererSettings]
r.GraphicsRHI=Vulkan
rhi.AllowDX12=False
rhi.AllowDX11=False
rhi.AllowVulkan=True
rhi.PreferredRHI=Vulkan
r.Vulkan.EnableValidationLayers=False
r.Vulkan.UseImmediateMode=1
r.Vulkan.UseDeferredShading=1
r.Vulkan.PresentMode=Mailbox
r.Vulkan.UseDescriptorSetCache=1

; Optional (you can turn these to 0 if you get stutters)
r.Vulkan.ForceShaderCache=1
r.Vulkan.PipelineCacheFromShaderDB=1

; ===================================================================
; System Settings (Visual Quality + Performance balance)
; ===================================================================

[SystemSettings]
r.Streaming.LimitPoolSizeToVRAM=1
r.Streaming.FullyLoadUsedTextures=1
r.TextureStreaming=1
r.Streaming.PoolSize=3000
r.Streaming.DefragDynamicBounds=1

; Reflection and lighting
r.ReflectionMethod=2
r.SSR.Quality=3
r.ReflectionEnvironment=1
r.ReflectionEnvironmentLightmapMixing=1
r.ReflectionEnvironmentLightmapMixBasedOnRoughness=1
r.PlanarReflectionQuality=2
r.Lumen.Reflections.Allow=0
r.GenerateMeshDistanceFields=1
r.DistanceFieldAO=1

; Shadows
r.Shadow.MaxResolution=2048
r.Shadow.DistanceScale=1.2
r.ContactShadows=1
r.AmbientOcclusionLevels=2

; Anti-Aliasing & Post-processing
r.TemporalAA.Upsampling=1
r.Tonemapper.Sharpen=0.4
r.MotionBlurQuality=0
r.BloomQuality=1
r.LensFlareQuality=1
r.EyeAdaptationQuality=1
r.FilmGrain=0

; ===================================================================
; Particle / Foliage / Leaves
; ===================================================================

[ConsoleVariables]
FX.MaxCPUParticlesPerEmitter=60
FX.MaxGPUParticlesSpawnedPerFrame=80
FX.MaxNiagaraCPUParticlesPerEmitter=60
FX.MaxNiagaraGPUParticlesSpawnPerFrame=80
foliage.DensityScale=1.0
foliage.LODDistanceScale=1.0
grass.DensityScale=1.0
r.ParticleLODBias=0
r.EmitterSpawnRateScale=1.0

; ===================================================================
; Scalability Preset (High by Default)
; ===================================================================

sg.ResolutionQuality=100.0
sg.ViewDistanceQuality=3
sg.AntiAliasingQuality=3
sg.ShadowQuality=3
sg.PostProcessQuality=3
sg.TextureQuality=3
sg.EffectsQuality=3
sg.FoliageQuality=3
sg.ShadingQuality=3

; ===================================================================
; Performance / Misc Tweaks
; ===================================================================

r.OneFrameThreadLag=1
r.VSync=0
r.FinishCurrentFrame=0
r.AllowOcclusionQueries=1
r.RenderTargetPoolMin=350
r.FastBlurThreshold=2
r.UseAsyncShaderPrecompilation=1
r.AsyncPipelineCompile=1
r.CompileShadersOnLoad=1
r.DefaultFeature.AntiAliasing=2

; ===================================================================
; Device / Display (120Hz if available)
; ===================================================================

rhi.SyncInterval=0
r.DisplayRefreshRate=120
r.FullScreenMode=0
r.AllowHDR=1
r.SceneColorFringeQuality=0